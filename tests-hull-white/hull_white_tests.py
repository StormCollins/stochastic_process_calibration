import pytest
from hullwhite.hullwhite import *


class TestsHullWhite:
    def test_theta(self):
        theta_times: np.ndarray = np.arange(0, 30.25, 0.25)
        curve_tenors = np.array([0,
                                 0.00273972602739726,
                                 0.0821917808219178,
                                 0.249315068493151,
                                 0.495890410958904,
                                 0.747945205479452,
                                 1,
                                 1.24931506849315,
                                 1.4958904109589,
                                 1.74794520547945,
                                 2,
                                 2.9972602739726,
                                 4.0027397260274,
                                 5.0027397260274,
                                 6.0027397260274,
                                 7.0027397260274,
                                 8.0027397260274,
                                 9,
                                 10.0054794520548,
                                 12.0082191780822,
                                 15.0027397260274,
                                 20.0082191780822,
                                 25.013698630137,
                                 30.0191780821918])
        # Corresponding swap discount factors
        curve_discount_factors = np.array(
            [1,
             0.999907269575448,
             0.997260675265517,
             0.991717124230684,
             0.983808917763081,
             0.975717678662124,
             0.967523680878883,
             0.959082962515726,
             0.950458527887378,
             0.941229833843046,
             0.93164890952382,
             0.887225968658722,
             0.834895492942358,
             0.776717959564857,
             0.713405382605866,
             0.649354239063653,
             0.585176994918833,
             0.524323960782608,
             0.469243755978326,
             0.372526977084483,
             0.268633004028575,
             0.16274196335192,
             0.104570874377476,
             0.0717007182261533])

        alpha = 0.05
        sigma = 0.01
        # theta_interpolator: interp1d = theta(alpha, sigma, theta_times, curve_tenors, curve_discount_factors)

